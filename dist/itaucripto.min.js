!function(r){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Itaucripto=r()}}(function(){return function n(a,s,d){function u(o,r){if(!s[o]){if(!a[o]){var e="function"==typeof require&&require;if(!r&&e)return e(o,!0);if(l)return l(o,!0);var t=new Error("Cannot find module '"+o+"'");throw t.code="MODULE_NOT_FOUND",t}var i=s[o]={exports:{}};a[o][0].call(i.exports,function(r){return u(a[o][1][r]||r)},i,i.exports,n,a,s,d)}return s[o].exports}for(var l="function"==typeof require&&require,r=0;r<d.length;r++)u(d[r]);return u}({1:[function(r,o,e){"use strict";function x(r){return String.prototype.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function y(r,o){for(var e=r.toString();e.length<o;)e+=" ";return e.substring(0,o)}function _(r,o){for(var e=r.toString();e.length<o;)e="0"+e;return e.substring(0,o)}function A(r){return/^\d+$/gim.test(r)}function P(r){var o,e,t=String.fromCharCode(26*Math.random()+65|0),i=""+t;for(o=0,e=r.length;o<e;o++)i+=""+r.charAt(o).charCodeAt(0),i+=t=String.fromCharCode(26*Math.random()+65|0);return i}var S="SEGUNDA12345ITAU";function t(){this.numbers="0123456789",this.sbox=null,this.key=null,this.codEmp=null,this.numPed=null,this.tipPag=null,this.dados=null,this.sbox=function(r){for(var o=[];0<r--;)o.push(0);return o}(256),this.key=function(r){for(var o=[];0<r--;)o.push(0);return o}(256),this.numPed="",this.tipPag="",this.codEmp=""}t.prototype.geraDados=function(r,o,e,t,i,n,a,s,d,u,l,h,f,p,c,g,m,v){if(r=r.toUpperCase(),i=i.toUpperCase(),26!==r.length)return"Erro: tamanho do código da empresa diferente de 26 posições.";if(16!==i.length)return"Erro: tamanho da chave da chave diferente de 16 posições.";if(o.length<1||8<o.length)return"Erro: número do pedido inválido.";if(!A(o))return"Erro: número do pedido não é numérico.";if(o=_(o,8),e.length<1||11<e.length)return"Erro: valor da compra inválido.";var E=e.indexOf(",");if(-1!==E){var b=e.substring(E+1);if(!A(b))return"Erro: valor decimal não é numérico.";if(2!==b.length)return"Erro: valor decimal da compra deve possuir 2 posições após a vírgula.";e=e.substring(0,e.length-3)+b}else{if(!A(e))return"Erro: valor da compra não é numérico.";if(8<e.length)return"Erro: valor da compra deve possuir no máximo 8 posições antes da vírgula.";e+="00"}if(e=_(e,10),0!==(a=x(a)).localeCompare("02")&&0!==a.localeCompare("01")&&0!==a.localeCompare(""))return"Erro: código de inscrição inválido.";if(0!==s.localeCompare("")&&!A(s)&&14<s.length)return"Erro: número de inscrição inválido.";if(0!==l.localeCompare("")&&(!A(l)||8!==l.length))return"Erro: cep inválido.";if(0!==p.localeCompare("")&&(!A(p)||8!==p.length))return"Erro: data de vencimento inválida.";if(60<g.length)return"Erro: observação adicional 1 inválida.";if(60<m.length)return"Erro: observação adicional 2 inválida.";if(60<v.length)return"Erro: observação adicional 3 inválida.";t=y(t,40),n=y(n,30),a=y(a,2),s=y(s,14),d=y(d,40),u=y(u,15),l=y(l,8),h=y(h,15),f=y(f,2),p=y(p,8),c=y(c,60),g=y(g,60),m=y(m,60),v=y(v,60);var C=this._algoritmo(o+e+t+n+a+s+d+u+l+h+f+p+c+g+m+v,i);return P(this._algoritmo(r+C,S))},t.prototype.geraCripto=function(r,o,e){if(26!==r.length)return"Erro: tamanho do código da empresa diferente de 26 posições.";if(16!==e.length)return"Erro: tamanho da chave da chave diferente de 16 posições.";if(0===(o=x(o)).localeCompare(""))return"Erro: código do sacado inválido.";var t=this._algoritmo(o,e);return P(this._algoritmo(r+t,S))},t.prototype.geraConsulta=function(r,o,e,t){if(26!==r.length)return"Erro: tamanho do código da empresa diferente de 26 posições.";if(16!==t.length)return"Erro: tamanho da chave da chave diferente de 16 posições.";if(o.length<1||8<o.length)return"Erro: número do pedido inválido.";if(!A(o))return"Erro: número do pedido não é numérico.";if(o=_(o,8),0!==e.localeCompare("0")&&0!==e.localeCompare("1"))return"Erro: formato inválido.";var i=this._algoritmo(o+e,t);return P(this._algoritmo(r+i,S))},t.prototype.decripto=function(r,o){r=function(r){var o,e,t,i="";for(o=0,t=r.length;o<t;o++){for(var n="",a=r.charAt(o);/\d/.test(a[0]);)n+=r.charAt(o),o+=1,a=r.charAt(o);0!==n.localeCompare("")&&(e=parseInt(n,10),i+=String.fromCharCode(e))}return i}(r);var e=this._algoritmo(r,o);return this.codEmp=e.substring(0,26),this.numPed=e.substring(26,34),this.tipPag=e.substring(34,36),e},t.prototype.retornaCodEmp=function(){return this.codEmp},t.prototype.retornaPedido=function(){return this.numPed},t.prototype.retornaTipPag=function(){return this.tipPag},t.prototype.geraDadosGenerico=function(r,o,e){if(r=r.toUpperCase(),e=e.toUpperCase(),26!==r.length)return"Erro: tamanho do código da empresa diferente de 26 posições.";if(16!==e.length)return"Erro: tamanho da chave da chave diferente de 16 posições.";if(o.length<1)return"Erro: sem dados.";var t=this._algoritmo(o,e);return P(this._algoritmo(r+t,S))},t.prototype._algoritmo=function(r,o){var e,t,i,n,a,s,d;for(this._inicializa(o),t=1,n=i=0,d="";t<=r.length;t++)i=(i+1)%256,n=(n+this.sbox[i])%256,e=this.sbox[i],this.sbox[i]=this.sbox[n],this.sbox[n]=e,a=this.sbox[(this.sbox[i]+this.sbox[n])%256],s=r.charCodeAt(t-1)^a,d+=String.fromCharCode(s);return d},t.prototype._inicializa=function(r){var o,e,t=r.length;for(o=0;o<256;o++)this.key[o]=r.charAt(o%t).charCodeAt(0),this.sbox[o]=o;for(e=o=0;o<256;o++){e=(e+this.sbox[o]+this.key[o])%256;var i=this.sbox[o];this.sbox[o]=this.sbox[e],this.sbox[e]=i}},o.exports=t},{}]},{},[1])(1)});